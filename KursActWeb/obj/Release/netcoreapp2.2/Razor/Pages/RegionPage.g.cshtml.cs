#pragma checksum "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b2e584f1607c9aa874dfde609a9d662f05ae0fba"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Pages_RegionPage), @"mvc.1.0.razor-page", @"/Pages/RegionPage.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.RazorPageAttribute(@"/Pages/RegionPage.cshtml", typeof(AspNetCore.Pages_RegionPage), @"{id}")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemMetadataAttribute("RouteTemplate", "{id}")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b2e584f1607c9aa874dfde609a9d662f05ae0fba", @"/Pages/RegionPage.cshtml")]
    public class Pages_RegionPage : global::Microsoft.AspNetCore.Mvc.RazorPages.Page
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 3 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
  
    ViewData["Title"] = Model.Name;
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
            BeginContext(136, 1, true);
            WriteLiteral("\n");
            EndContext();
            BeginContext(149, 81, true);
            WriteLiteral("<div class=\"card-body bg-light shadow rounded mb-3\">\n    <!-- Navigate -->\n    <a");
            EndContext();
            BeginWriteAttribute("href", " href=\"", 230, "\"", 268, 2);
            WriteAttributeValue("", 237, "/ContractPage/", 237, 14, true);
#line 11 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
WriteAttributeValue("", 251, Model.ContractId, 251, 17, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(269, 133, true);
            WriteLiteral(" class=\"btn text-dark zoom\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Контракт\">\n        <i class=\"fas fa-globe-europe\"></i> ");
            EndContext();
            BeginContext(403, 18, false);
#line 12 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                                       Write(Model.ContractName);

#line default
#line hidden
            EndContext();
            BeginContext(421, 207, true);
            WriteLiteral("\n    </a>\n    <i class=\"fas fa-angle-right mt-1\"></i>\n    <a href=\"#\" class=\"btn text-muted\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Выбранный район\">\n        <i class=\"fas fa-map-marked-alt\"></i> ");
            EndContext();
            BeginContext(629, 10, false);
#line 16 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                                         Write(Model.Name);

#line default
#line hidden
            EndContext();
            BeginContext(639, 114, true);
            WriteLiteral("\n    </a>\n    <!-- Title -->\n    <h4 class=\"card-title display-3 text-dark\"><i class=\"fas fa-map-marked-alt\"></i> ");
            EndContext();
            BeginContext(754, 10, false);
#line 19 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                                                                                Write(Model.Name);

#line default
#line hidden
            EndContext();
            BeginContext(764, 37, true);
            WriteLiteral("</h4>\n    <div class=\"card-text p-3\">");
            EndContext();
            BeginContext(802, 17, false);
#line 20 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                          Write(Model.Description);

#line default
#line hidden
            EndContext();
            BeginContext(819, 167, true);
            WriteLiteral("</div>\n    <!-- Progress -->\n    <div class=\"progress md-progress\" style=\" height: 20px;\" id=\"progr\">\n        <div class=\"progress-bar bg-success 6\" role=\"progressbar\"");
            EndContext();
            BeginWriteAttribute("style", " style=\"", 986, "\"", 1024, 3);
            WriteAttributeValue("", 994, "width:", 994, 6, true);
#line 23 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
WriteAttributeValue(" ", 1000, Model.PercentAscueOk, 1001, 21, false);

#line default
#line hidden
            WriteAttributeValue("", 1022, "%;", 1022, 2, true);
            EndWriteAttribute();
            BeginContext(1025, 43, true);
            WriteLiteral(" data-toggle=\"tooltip\" data-placement=\"top\"");
            EndContext();
            BeginWriteAttribute("title", " title=\"", 1068, "\"", 1115, 5);
            WriteAttributeValue("", 1076, "Принято", 1076, 7, true);
            WriteAttributeValue(" ", 1083, "в", 1084, 2, true);
            WriteAttributeValue(" ", 1085, "ПО", 1086, 3, true);
            WriteAttributeValue(" ", 1088, "АСКУЭ:", 1089, 7, true);
#line 23 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
WriteAttributeValue(" ", 1095, Model.CountAscueOk, 1096, 19, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1116, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(1118, 18, false);
#line 23 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                                                                                                                                                                                               Write(Model.CountAscueOk);

#line default
#line hidden
            EndContext();
            BeginContext(1136, 70, true);
            WriteLiteral("</div>\n        <div class=\"progress-bar bg-primary\" role=\"progressbar\"");
            EndContext();
            BeginWriteAttribute("style", " style=\"", 1206, "\"", 1249, 3);
            WriteAttributeValue("", 1214, "width:", 1214, 6, true);
#line 24 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
WriteAttributeValue(" ", 1220, Model.PercentAscueChecked, 1221, 26, false);

#line default
#line hidden
            WriteAttributeValue("", 1247, "%;", 1247, 2, true);
            EndWriteAttribute();
            BeginContext(1250, 43, true);
            WriteLiteral(" data-toggle=\"tooltip\" data-placement=\"top\"");
            EndContext();
            BeginWriteAttribute("title", " title=\"", 1293, "\"", 1349, 5);
            WriteAttributeValue("", 1301, "Проверено", 1301, 9, true);
            WriteAttributeValue(" ", 1310, "для", 1311, 4, true);
            WriteAttributeValue(" ", 1314, "ПО", 1315, 3, true);
            WriteAttributeValue(" ", 1317, "АСКУЭ:", 1318, 7, true);
#line 24 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
WriteAttributeValue(" ", 1324, Model.CountAscueChecked, 1325, 24, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1350, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(1352, 23, false);
#line 24 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                                                                                                                                                                                                           Write(Model.CountAscueChecked);

#line default
#line hidden
            EndContext();
            BeginContext(1375, 70, true);
            WriteLiteral("</div>\n        <div class=\"progress-bar bg-warning\" role=\"progressbar\"");
            EndContext();
            BeginWriteAttribute("style", " style=\"", 1445, "\"", 1482, 3);
            WriteAttributeValue("", 1453, "width:", 1453, 6, true);
#line 25 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
WriteAttributeValue(" ", 1459, Model.PercentLinkOk, 1460, 20, false);

#line default
#line hidden
            WriteAttributeValue("", 1480, "%;", 1480, 2, true);
            EndWriteAttribute();
            BeginContext(1483, 43, true);
            WriteLiteral(" data-toggle=\"tooltip\" data-placement=\"top\"");
            EndContext();
            BeginWriteAttribute("title", " title=\"", 1526, "\"", 1569, 3);
            WriteAttributeValue("", 1534, "Связь", 1534, 5, true);
            WriteAttributeValue(" ", 1539, "проверена:", 1540, 11, true);
#line 25 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
WriteAttributeValue(" ", 1550, Model.CountLinkOk, 1551, 18, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1570, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(1572, 17, false);
#line 25 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                                                                                                                                                                                        Write(Model.CountLinkOk);

#line default
#line hidden
            EndContext();
            BeginContext(1589, 72, true);
            WriteLiteral("</div>\n        <div class=\"progress-bar bg-secondary\" role=\"progressbar\"");
            EndContext();
            BeginWriteAttribute("style", " style=\"", 1661, "\"", 1697, 3);
            WriteAttributeValue("", 1669, "width:", 1669, 6, true);
#line 26 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
WriteAttributeValue(" ", 1675, Model.PercentOther, 1676, 19, false);

#line default
#line hidden
            WriteAttributeValue("", 1695, "%;", 1695, 2, true);
            EndWriteAttribute();
            BeginContext(1698, 43, true);
            WriteLiteral(" data-toggle=\"tooltip\" data-placement=\"top\"");
            EndContext();
            BeginWriteAttribute("title", " title=\"", 1741, "\"", 1777, 2);
            WriteAttributeValue("", 1749, "Остальные:", 1749, 10, true);
#line 26 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
WriteAttributeValue(" ", 1759, Model.CountOther, 1760, 17, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1778, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(1780, 16, false);
#line 26 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                                                                                                                                                                                  Write(Model.CountOther);

#line default
#line hidden
            EndContext();
            BeginContext(1796, 320, true);
            WriteLiteral(@"</div>
    </div>
    <div class=""collapse-content"">
        <hr class=""p-0"">
        <a class=""btn "" data-toggle=""collapse"" href=""#collapseStats"" aria-expanded=""false"" aria-controls=""collapseStats"">Сводная статистика</a>
        <div class=""collapse"" id=""collapseStats"">
            -
        </div>
    </div>
</div>

");
            EndContext();
#line 38 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
 if (User.IsInRole("pnr") || User.IsInRole("operator") || User.IsInRole("administrator"))
{

#line default
#line hidden
            BeginContext(2241, 287, true);
            WriteLiteral(@"    <div class=""btn-group btn-pageAction ml-auto"" role=""group"">
        <button type=""button"" class=""btn btn-light btn-rounded"" data-toggle=""tooltip"" data-placement=""top"" title=""Создать объект"" onclick=""modalToggle()"">
            <i class=""fa fa-plus""></i>
        </button>
    </div>
");
            EndContext();
#line 45 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
}


#line default
#line hidden
            BeginContext(2555, 22, true);
            WriteLiteral("<div id=\"sTable\">\n    ");
            EndContext();
            BeginContext(2578, 58, false);
#line 49 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
Write(await Html.PartialAsync("_SubstationTablePages", Model.Id));

#line default
#line hidden
            EndContext();
            BeginContext(2636, 9, true);
            WriteLiteral("\n</div>\n\n");
            EndContext();
#line 53 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
 if (User.IsInRole("pnr") || User.IsInRole("operator") || User.IsInRole("administrator"))
{

#line default
#line hidden
            BeginContext(2778, 1204, true);
            WriteLiteral(@"    <div class=""modal fade"" id=""addSubstationModal"" tabindex=""-1"" role=""dialog"" aria-labelledby=""exampleModalCenterTitle"" aria-hidden=""true"">
        <div class=""modal-dialog modal-dialog-centered modal-sm"" role=""document"">
            <div class=""modal-content"">

                <div class=""modal-header"">
                    <h5 class=""modal-title"">Создать новый объект</h5>
                    <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                        <span aria-hidden=""true"">&times;</span>
                    </button>
                </div>

                <div class=""modal-body"">
                    <select class=""custom-select"" onchange=""val()"" id=""sType"">
                        <option id=""tp"" value=""ТП"">ТП</option>
                        <option id=""rp"" value=""РП"">РП</option>
                    </select>
                    <input type=""text"" class=""form-control"" onchange=""val()"" id=""sNumber"" />
                </div>

                <div class=""modal-foot");
            WriteLiteral("er\">\n                    <button class=\"btn btn-primary\" onclick=\"SendPOSTCreateSubstation()\">Создать</button>\n                </div>\n\n            </div>\n        </div>\n    </div>\n");
            EndContext();
#line 81 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
}

#line default
#line hidden
            BeginContext(3984, 767, true);
            WriteLiteral(@"
<script>
    //Показать/Скрыть окно добавления
    function modalToggle() {
        $('#addSubstationModal').modal('toggle');
    }

    var substationName = """";

    function clearSubstationName() {
        substationName = """";
        $('#sNumber').val('');
    }

    function val() {
        var val1 = document.getElementById(""sType"").value;
        var val2 = document.getElementById(""sNumber"").value;
        substationName = val1 + "" "" + val2;
    }

    function SendPOSTCreateSubstation() {
        if (substationName === '' || $(""#sNumber"").val() === '') return;
        $('#addSubstationModal').modal('toggle');


        var xhr = new XMLHttpRequest();
        var body = ""name="" + encodeURIComponent(substationName) + ""&idRegion="" + encodeURIComponent(");
            EndContext();
            BeginContext(4752, 8, false);
#line 108 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                                                                                               Write(Model.Id);

#line default
#line hidden
            EndContext();
            BeginContext(4760, 765, true);
            WriteLiteral(@");

        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                alert(xhr.responseText);
                GetTableSubstations();
            }
        }
        xhr.open(""POST"", '/Substation/AddSubstation', true);
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        xhr.send(body);
    }

    function GetTableSubstations() {
        SubstationTablePage.getSubstationsList(0);
        //var xhr = new XMLHttpRequest();
        //xhr.onreadystatechange = function () {
        //    if (xhr.readyState === 4 && xhr.status === 200) {
        //        $('#sTable').html(xhr.responseText)
        //    }
        //}
        //xhr.open(""GET"", '/Substation/GetTable/");
            EndContext();
            BeginContext(5526, 8, false);
#line 129 "D:\Repos\kurs-act-master\KursActWeb\Pages\RegionPage.cshtml"
                                           Write(Model.Id);

#line default
#line hidden
            EndContext();
            BeginContext(5534, 143, true);
            WriteLiteral("\', true);\n        //xhr.send();\n    }\n</script>\n\n<script>\n    $(function () {\n        $(\'[data-toggle=\"tooltip\"]\').tooltip()\n    })\n</script>\n\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<KursActWeb.Pages.RegionModel> Html { get; private set; }
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<KursActWeb.Pages.RegionModel> ViewData => (global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<KursActWeb.Pages.RegionModel>)PageContext?.ViewData;
        public KursActWeb.Pages.RegionModel Model => ViewData.Model;
    }
}
#pragma warning restore 1591
